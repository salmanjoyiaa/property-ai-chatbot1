{
  "version": 3,
  "sources": ["file:///D:/property-ai-chatbot/netlify/functions/chat.js"],
  "sourceRoot": "C:/Users/HPPC~1/AppData/Local/Temp/tmp-15188-E78x0t3UCjEG",
  "sourcesContent": ["// netlify/functions/chat.js\r\nexport async function handler(event) {\r\n  const TARGET = process.env.BACKEND_CHAT_URL; // set this in Netlify dashboard later\r\n\r\n  if (!TARGET) {\r\n    return {\r\n      statusCode: 500,\r\n      body: JSON.stringify({ error: \"Missing BACKEND_CHAT_URL env var\" }),\r\n    };\r\n  }\r\n\r\n  // Handle CORS preflight\r\n  if (event.httpMethod === \"OPTIONS\") {\r\n    return {\r\n      statusCode: 200,\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n        \"Access-Control-Allow-Methods\": \"GET,POST,OPTIONS\",\r\n        \"Access-Control-Allow-Headers\": \"Content-Type, Authorization\",\r\n      },\r\n      body: \"\",\r\n    };\r\n  }\r\n\r\n  try {\r\n    const res = await fetch(TARGET, {\r\n      method: event.httpMethod,\r\n      headers: {\r\n        \"Content-Type\": event.headers[\"content-type\"] || \"application/json\",\r\n      },\r\n      body: [\"POST\", \"PUT\", \"PATCH\"].includes(event.httpMethod)\r\n        ? event.body\r\n        : undefined,\r\n    });\r\n\r\n    const data = await res.text();\r\n    return {\r\n      statusCode: res.status,\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n        \"Content-Type\": res.headers.get(\"content-type\") || \"application/json\",\r\n      },\r\n      body: data,\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      statusCode: 502,\r\n      headers: { \"Access-Control-Allow-Origin\": \"*\" },\r\n      body: JSON.stringify({ error: error.message }),\r\n    };\r\n  }\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,eAAsB,QAAQ,OAAO;AACnC,QAAM,SAAS,QAAQ,IAAI;AAE3B,MAAI,CAAC,QAAQ;AACX,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU,EAAE,OAAO,mCAAmC,CAAC;AAAA,IACpE;AAAA,EACF;AAGA,MAAI,MAAM,eAAe,WAAW;AAClC,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,SAAS;AAAA,QACP,+BAA+B;AAAA,QAC/B,gCAAgC;AAAA,QAChC,gCAAgC;AAAA,MAClC;AAAA,MACA,MAAM;AAAA,IACR;AAAA,EACF;AAEA,MAAI;AACF,UAAM,MAAM,MAAM,MAAM,QAAQ;AAAA,MAC9B,QAAQ,MAAM;AAAA,MACd,SAAS;AAAA,QACP,gBAAgB,MAAM,QAAQ,cAAc,KAAK;AAAA,MACnD;AAAA,MACA,MAAM,CAAC,QAAQ,OAAO,OAAO,EAAE,SAAS,MAAM,UAAU,IACpD,MAAM,OACN;AAAA,IACN,CAAC;AAED,UAAM,OAAO,MAAM,IAAI,KAAK;AAC5B,WAAO;AAAA,MACL,YAAY,IAAI;AAAA,MAChB,SAAS;AAAA,QACP,+BAA+B;AAAA,QAC/B,gBAAgB,IAAI,QAAQ,IAAI,cAAc,KAAK;AAAA,MACrD;AAAA,MACA,MAAM;AAAA,IACR;AAAA,EACF,SAAS,OAAO;AACd,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,SAAS,EAAE,+BAA+B,IAAI;AAAA,MAC9C,MAAM,KAAK,UAAU,EAAE,OAAO,MAAM,QAAQ,CAAC;AAAA,IAC/C;AAAA,EACF;AACF;",
  "names": []
}
